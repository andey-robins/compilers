# Program 6

- [x] Verify only one main with return type of void or int and no args
- [x] Verify `this` is only at the beginning of a dotted name
  - [x] Prevent `this.this.this`
  - [x] Prevent `this.a.this`
  - [x] Prevent `a.this.this`
  - [x] Prevent `a.this`
  - [x] Prevent `a.a.this`
- [x] Fix to allow multiple statements in a row being typechecked
- [x] Arithmetic operators all require int operands
  - [x] This is including the >, <, >=, <= operators
- [x] Properly lookup/update declared var types
- [x] Relational operators return (return where?) 1 if true and 0 if false
  - [x] && and || only take integers
- [x] The equality operator is the major difference as it can compare any reference to null or another reference type
- [x] `new` allocates memory for an object (again, where is this alocated?). The type on the right must match the type of the variable on the left
- [ ] `new` can have arrays which are only filled in up to (but not including the last)
- [x] array return types are valid
- [x] null is a reference type to an array or class. it cannot be compared to an integer
  - i believe i've got this working, but it might get broken depending on the solution for looking up Ids
- [x] `read()` returns an integer
  - [x] register in symbol table
  - [x] use for checking function call statements
- [x] `print()` has a void return type and takes any number of integers
  - [x] register in symbol table
  - [x] use for checking function call statements
- [x] constructors may not be called directly
- [x] a method may not return something if it is a constructor or has the `void` return type
- [x] methods do not have to have a return statement (even if they have a return type (this is such an unbelievably bad idea, it pains me to allow it))
- [x] typecheck assignment statements
- [ ] fix parsing for nested expressions
- [x] fix statements after if statement not working
- [x] fix segfaults in constructors
- [x] fix segfault in return test cases
- [x] fix segfault in new test cases
- [x] fix segfault in main test cases
- [ ] add in error checking for correct number of arguments
- [x] add in line numbers to output
- [x] cascade lines and line number up through types like we do with annotations
- [x] fix block parsing as statements
- [x] typecheck nested blocks
- [x] get array return types working again
- [x] write error output prototype
- [x] integrate error output with all errors
- [x] augment all error messages with line and line number
